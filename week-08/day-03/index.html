<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>JSON and AJAX</title>
    <style>
      body {
        margin: 0;
        background: rgb(238, 202, 196);
      }
      .container {
        width: 720px;
        height: 470px;
        border: 2px dotted red;
        margin: 20px auto;
        display: flex;
        justify-content: center;
        align-items: center;
        overflow: hidden;
      }
      .thumbnails img {
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <div class="container"><img src="empty_set1600.png" alt=""></div>
    <div class="thumbnails"></div>
    <script>
      // https://dog.ceo/api/breeds/list/all
      var myRequest = new XMLHttpRequest();
      myRequest.open("GET", "https://api.giphy.com/v1/stickers/trending?api_key=vp8iFhbbVENwsx5cq6Vib7n9zDzad11U&limit=25&rating=G", false);
      myRequest.send(null);

      if (myRequest.readyState === XMLHttpRequest.DONE) {
      console.log("Everything is good, the response was received.");
      } else {
        console.log("Not ready yet.");
      }
      console.log(myRequest.readyState);

      var requestAPI = JSON.parse(myRequest.response);
      var thumbContainer = document.querySelector('div.thumbnails');
      for (let i = 0; i < 16; i++) {
        var newImg = document.createElement('img');
        newImg.setAttribute('src', requestAPI.data[i].images.fixed_width_small_still.url);
        thumbContainer.appendChild(newImg);
      }
      var thumbnailImgs = document.querySelectorAll('.thumbnails img');
      thumbnailImgs.forEach(function(element, i) {
        element.addEventListener('click', function() {
          onClick(i);
        })
      }, this);
      
      var bigImg = document.querySelector('.container img');
      function onClick(i) {
        bigImg.setAttribute('src', requestAPI.data[i].images.downsized.url)
      }
    </script>
  </body>
</html>